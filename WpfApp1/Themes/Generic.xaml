<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:adonisUi="clr-namespace:AdonisUI;assembly=AdonisUI"
    xmlns:cmds="clr-namespace:ERad5TestGUI.Commands"
    xmlns:ctrls="clr-namespace:ERad5TestGUI.Components"
    xmlns:cvts="clr-namespace:ERad5TestGUI.Converters"
    xmlns:dialogs="clr-namespace:ERad5TestGUI.Dialogs"
    xmlns:models="clr-namespace:ERad5TestGUI.Models"
    xmlns:udsModel="clr-namespace:ERad5TestGUI.UDS"
    xmlns:viewModels="clr-namespace:ERad5TestGUI.ViewModels"
    xmlns:views="clr-namespace:ERad5TestGUI.Views">

    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/eRad5TestGUI;component/Themes/Styles.xaml" />
        <ResourceDictionary Source="pack://application:,,,/eRad5TestGUI;component/Themes/Icons.xaml" />
    </ResourceDictionary.MergedDictionaries>
    <!--  Global Command  -->
    <cmds:ClearSignalDataCommand x:Key="ClearSignalDataCommand" />
    <cmds:ModifySignalInfoCommand x:Key="ModifySignalInfoCommand" />

    <!--  Converters  -->
    <cvts:OutLimitsColorConverter x:Key="OutLimitsColorConverter" />
    <cvts:DoubleBooleanConverter x:Key="DoubleBooleanConverter" />
    <cvts:BooleanInvertVisibilityConverter x:Key="BooleanInvertVisibilityConverter" />
    <cvts:EnumerableNullReplaceConverter x:Key="EnumerableNullReplaceConverter" />
    <cvts:DeviceStartConverter x:Key="DeviceStartConverter" />
    <cvts:InvertBooleanConverter x:Key="InvertBooleanConverter" />
    <cvts:DoubleHexConverter x:Key="DoubleHexConverter" />
    <cvts:HexConverter x:Key="HexConverter" />
    <cvts:DoubleToByteHexConverter x:Key="DoubleToByteHexConverter" />
    <cvts:ClearCommandParamtersConvert x:Key="ClearCommandParamtersConvert" />
    <cvts:ProgressToPercentageConverter x:Key="ProgressToPercentageConverter" />
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

    <cvts:ColorMultiConverter x:Key="staMultiColor" />
    <cvts:ColorConverter x:Key="staColor" />
    <cvts:Int2StringConverter x:Key="intStrConverter" />
    <cvts:Enable2ReadOnlyConverter x:Key="enable2ReadConverter" />
    <cvts:ProgressStyleConverter x:Key="progressConverter" />

    <DataTemplate DataType="{x:Type viewModels:DeviceViewModel}">
        <views:DevicesView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:AnalogViewModel}">
        <views:AnalogView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:DiscreteViewModel}">
        <views:DiscreteView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:PulseInViewModel}">
        <views:PulseInView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:PulseOutViewModel}">
        <views:PulseOutView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:GDICViewModel}">
        <views:GDIC3160View />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:LogViewModel}">
        <views:LogView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:MemoryViewModel}">
        <views:MemoryView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:NXPViewModel}">
        <views:NXPView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:PPAWLViewModel}">
        <views:PPAWLView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:SafingLogicViewModel}">
        <views:SafingLogicView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:SPIViewModel}">
        <views:SPIView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:NXPFlashViewModel}">
        <views:NXPFlashView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:ResolverViewModel}">
        <views:ResolverView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:UDSUpgradeViewModel}">
        <views:UDSUpgradeView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:LayoutViewModel}">
        <ctrls:Layout />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:LinViewModel}">
        <views:LINView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:DisConnectViewModel}">
        <views:DisConnectView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:ELockerViewModel}">
        <views:ELockerView />
    </DataTemplate>


    <DataTemplate DataType="{x:Type viewModels:AnalogSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:ResolverSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:DiscreteInputSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:DiscreteOutputSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:PulseOutSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:PulseInSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:NXPSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:NXPInputSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:GDICStatusDataSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>
    <DataTemplate DataType="{x:Type viewModels:GDICRegisterSignalLocatorViewModel}">
        <views:SignalLocatorView />
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:SignalBase}">
        <TextBlock Text="{Binding DisplayName}" />
    </DataTemplate>

    <!--<DataTemplate x:Key="BaseSignalIn">

    </DataTemplate>-->

    <DataTemplate x:Key="SignalToolTip">
        <Border>
            <StackPanel>
                <ctrls:LabelWithContent Title="Name:" Content="{Binding DisplayName}" />
                <ctrls:LabelWithContent Title="MsgID:" Content="{Binding MessageID, StringFormat='0x{0:X}'}" />
                <ctrls:LabelWithContent Title="StartBit:" Content="{Binding StartBit}" />
                <ctrls:LabelWithContent Title="Length:" Content="{Binding Length}" />
                <ctrls:LabelWithContent Title="Uint:" Content="{Binding Unit}" />
                <ctrls:LabelWithContent Title="OriginalValue:" Content="{Binding OriginValue}" />
            </StackPanel>
        </Border>
    </DataTemplate>

    <ContextMenu x:Key="CommonGridContextMenu">
        <!--<MenuItem Header="Cut" Command="ApplicationCommands.Cut"/>-->
        <MenuItem
            Command="{x:Static cmds:ApplicationCommands.CopyNameCommand}"
            CommandParameter="{Binding}"
            Header="Copy" />
        <!--<MenuItem Header="Paste" Command="ApplicationCommands.Paste"/>-->
        <Separator />
        <MenuItem
            Command="{StaticResource ModifySignalInfoCommand}"
            CommandParameter="{Binding}"
            Header="Change Threshold" />
        <!--<MenuItem Header="Custom Action" Command="{Binding CustomCommand}"/>-->
    </ContextMenu>

    <DataTemplate DataType="{x:Type models:ChangeLimit}">
        <dialogs:ChangeLimitDialog />
        <!--<Grid HorizontalAlignment="Center"  Margin="10" MinHeight="100">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <StackPanel Grid.IsSharedSizeScope="True" VerticalAlignment="Center">
                <ctrls:ControlWithTitle Title="Min Threshold" Style="{StaticResource ControlWithTitleGridStyle}">
                    <ctrls:ControlWithTitle.Content>
                        <TextBox Text="{Binding MinThreshold}"/>
                    </ctrls:ControlWithTitle.Content>
                </ctrls:ControlWithTitle>
                <ctrls:ControlWithTitle Title="Max Threshold" Style="{StaticResource ControlWithTitleGridStyle}" Margin="0,5,0,0">
                    <ctrls:ControlWithTitle.Content>
                        <TextBox Text="{Binding MaxThreshold}"/>
                    </ctrls:ControlWithTitle.Content>
                </ctrls:ControlWithTitle>
            </StackPanel>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Grid.Row="1">
                <Button Content="Ok" />
                <Button Content="Cancel" />
            </StackPanel>
        </Grid>-->
    </DataTemplate>

    <DataTemplate x:Key="CommonSignalNoBorder">
        <Grid ContextMenu="{StaticResource CommonGridContextMenu}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="*" MinWidth="150" />
                <ColumnDefinition Width="auto" SharedSizeGroup="threshold" />
            </Grid.ColumnDefinitions>
            <StackPanel
                Grid.Column="1"
                HorizontalAlignment="Center"
                Orientation="Horizontal">
                <TextBlock
                    Margin="0,0,5,0"
                    FontSize="25"
                    Foreground="{Binding OutLimits, Converter={StaticResource OutLimitsColorConverter}}"
                    Style="{StaticResource ValueTextBlockStyle}"
                    Text="{Binding Value1}" />
                <TextBlock
                    VerticalAlignment="Center"
                    Foreground="Gray"
                    Text="{Binding Unit}" />
            </StackPanel>
            <StackPanel Grid.Column="0" Margin="2">
                <TextBlock
                    FontSize="10"
                    Foreground="Gray"
                    Text="{Binding MaxValue, StringFormat={}{0:f2}}" />
                <TextBlock
                    Margin="0,3,0,0"
                    FontSize="10"
                    Text="{Binding MinValue, StringFormat={}{0:f2}}" />
                <!--<TextBlock Text="{Binding OutLimits}" FontSize="10"  Margin="0,3,0,0"/>-->
            </StackPanel>
            <StackPanel Grid.Column="2" Margin="5">
                <TextBlock FontSize="10" Text="{Binding MaxThreshold}" />
                <TextBlock FontSize="10" Text="{Binding MinThreshold}" />
            </StackPanel>
            <Grid.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Grid.ToolTip>
        </Grid>

    </DataTemplate>

    <DataTemplate x:Key="CommonSignal">
        <Border Style="{StaticResource CellBorder}">
            <ContentControl Content="{Binding}" ContentTemplate="{StaticResource CommonSignalNoBorder}" />
        </Border>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:AnalogSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value2" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value1" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="valueStad" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Border Style="{StaticResource CellBorder}">
                    <Grid Grid.Column="0" ToolTip="{Binding DisplayName}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Style="{StaticResource DescriptionTextBlockStyle}" Text="{Binding PinNumber}" />
                            <TextBlock Style="{StaticResource DescriptionTextBlockStyle}" Text="{Binding ADChannel}" />
                        </StackPanel>
                    </Grid>
                </Border>
                <!--  AI Raw & AI Scaled  -->
                <Border Grid.Column="1" Style="{StaticResource CellBorder}">
                    <TextBlock
                        Style="{StaticResource ValueTextBlockStyle}"
                        Text="{Binding Value2}"
                        ToolTip="AI Scaled" />
                </Border>
                <ContentControl
                    Grid.Column="2"
                    Content="{Binding}"
                    ContentTemplate="{StaticResource CommonSignal}" />
                <!--  Standard  -->
                <TextBlock
                    Grid.Column="3"
                    Margin="5,0,5,0"
                    Style="{StaticResource ValueTextBlockStyle}"
                    Text="{Binding StandardDev, StringFormat={}{0:F2}}"
                    ToolTip="StandardDev" />
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:DiscreteInputSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value1" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value2" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <!--<Border Style="{StaticResource CellBorder}" Grid.Column="0" >-->
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                    <TextBlock
                        Grid.Column="1"
                        Style="{StaticResource DescriptionTextBlockStyle}"
                        Text="{Binding PinNumber}" />
                </Grid>
                <!--</Border>-->
                <Border
                    Grid.Column="1"
                    BorderThickness="2,0"
                    Style="{StaticResource CellBorder}">
                    <TextBlock
                        Grid.Column="1"
                        Style="{StaticResource ValueTextBlockStyle}"
                        Text="{Binding OriginValue}" />
                </Border>
                <Border
                    Grid.Column="2"
                    Style="{StaticResource CellBorder}"
                    Visibility="{Binding NeedTransitions, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <TextBlock
                        Grid.Column="2"
                        Style="{StaticResource ValueTextBlockStyle}"
                        Text="{Binding Transitions}"
                        ToolTip="Transitions" />
                </Border>
            </Grid>
            <Border.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Border.ToolTip>
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="DisOutSignals">
        <Grid Grid.IsSharedSizeScope="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Border
                Grid.Row="0"
                Margin="5,2,0,0"
                Style="{StaticResource CardBorder}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition SharedSizeGroup="SignalName" />
                        <ColumnDefinition SharedSizeGroup="value1" />
                        <ColumnDefinition SharedSizeGroup="value2" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border Style="{StaticResource CellBorder}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="SignalName" />
                            <TextBlock
                                Grid.Column="1"
                                Style="{StaticResource DescriptionTextBlockStyle}"
                                Text=" PinNumber" />
                        </Grid>

                    </Border>
                    <TextBlock
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="Pin Low/High" />
                    <TextBlock
                        Grid.Column="2"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="State" />
                </Grid>
            </Border>
            <ScrollViewer Grid.Row="1">
                <ItemsControl ItemsSource="{Binding}" />
            </ScrollViewer>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="DisInSignals">
        <Grid Grid.IsSharedSizeScope="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Border
                Grid.Row="0"
                Margin="5,2,0,0"
                Style="{StaticResource CardBorder}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition SharedSizeGroup="SignalName" />
                        <ColumnDefinition SharedSizeGroup="value1" />
                        <ColumnDefinition SharedSizeGroup="value2" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border Style="{StaticResource CellBorder}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="SignalName" />
                            <TextBlock
                                Grid.Column="1"
                                Style="{StaticResource DescriptionTextBlockStyle}"
                                Text=" PinNumber" />
                        </Grid>
                    </Border>
                    <TextBlock
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="State" />
                    <TextBlock
                        Grid.Column="2"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Text="Transition" />
                </Grid>
            </Border>
            <ScrollViewer Grid.Row="1">
                <ItemsControl ItemsSource="{Binding}" />
            </ScrollViewer>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="PulseInGroupList">
        <Grid Grid.IsSharedSizeScope="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Border
                Margin="2,2,2,0"
                Padding="4"
                CornerRadius="1"
                Style="{StaticResource CardBorder}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition SharedSizeGroup="SignalName" />
                        <ColumnDefinition SharedSizeGroup="Value1" />
                        <ColumnDefinition SharedSizeGroup="Value2" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Border Style="{StaticResource CellBorder}">
                        <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="SignalName" />
                    </Border>
                    <TextBlock
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        Text="Duty Value" />
                    <TextBlock
                        Grid.Column="2"
                        HorizontalAlignment="Center"
                        Text="Freq Value(HZ)" />
                </Grid>
            </Border>
            <ScrollViewer
                Grid.Row="1"
                ScrollViewer.HorizontalScrollBarVisibility="Visible"
                ScrollViewer.VerticalScrollBarVisibility="Visible">
                <ItemsControl ItemsSource="{Binding}" />
            </ScrollViewer>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="PulseOutGroupList">
        <Grid Grid.IsSharedSizeScope="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Border Grid.Row="0" Style="{StaticResource CardBorder}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition SharedSizeGroup="SignalName" />
                        <ColumnDefinition SharedSizeGroup="value1" />
                        <ColumnDefinition SharedSizeGroup="value2" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        HorizontalAlignment="Center"
                        Style="{StaticResource SignalNameFontStyle}"
                        Text="SignalName" />
                    <TextBlock
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        Text="Freq(Hz)" />
                    <TextBlock
                        Grid.Column="2"
                        HorizontalAlignment="Center"
                        Text="Duty(%)" />
                </Grid>
            </Border>
            <ScrollViewer Grid.Row="1">
                <ItemsControl ItemsSource="{Binding}" />
            </ScrollViewer>
        </Grid>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:DiscreteOutputSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value1" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="60"
                        SharedSizeGroup="value2" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                    <TextBlock
                        Grid.Column="1"
                        Style="{StaticResource DescriptionTextBlockStyle}"
                        Text="{Binding PinNumber}" />
                </Grid>
                <StackPanel
                    Grid.Column="1"
                    Margin="5,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <ToggleButton
                        IsChecked="{Binding Pin_High, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        Style="{DynamicResource {x:Static adonisUi:Styles.ToggleSwitch}}"
                        Visibility="{Binding IsOutput, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    <TextBlock
                        Margin="0,0,5,0"
                        Text="Low"
                        Visibility="{Binding Pin_Low, Converter={StaticResource BooleanToVisibilityConverter}}" />
                    <TextBlock Text="High" Visibility="{Binding Pin_High, Converter={StaticResource BooleanToVisibilityConverter}}" />
                </StackPanel>
                <Border
                    Grid.Column="2"
                    BorderThickness="2,0"
                    Style="{StaticResource CellBorder}">
                    <TextBlock
                        Grid.Column="2"
                        Style="{StaticResource ValueTextBlockStyle}"
                        Text="{Binding State.OriginValue}" />
                </Border>

            </Grid>
            <Border.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Border.ToolTip>
        </Border>

    </DataTemplate>
    <DataTemplate DataType="{x:Type models:NXPSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="40"
                        SharedSizeGroup="Value" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                <TextBlock
                    Grid.Column="1"
                    Style="{StaticResource ValueTextBlockStyle}"
                    Text="{Binding OriginValue}" />
                <!--  //<TextBlock Text="{Binding me}"  -->
            </Grid>
            <Border.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Border.ToolTip>
        </Border>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:NXPInputSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="40"
                        SharedSizeGroup="Value" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                <Border
                    Grid.Column="1"
                    BorderThickness="2,0"
                    Style="{StaticResource CellBorder}">
                    <StackPanel
                        Grid.Column="1"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal">
                        <TextBlock
                            Margin="0,0,5,0"
                            Style="{StaticResource ValueTextBlockStyle}"
                            Text="{Binding Value2}" />
                        <TextBlock
                            VerticalAlignment="Center"
                            Foreground="Gray"
                            Text="{Binding Unit}" />
                    </StackPanel>
                </Border>
            </Grid>
            <Border.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Border.ToolTip>
        </Border>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:PulseInSignal}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="auto" MinWidth="120" />
                <ColumnDefinition Width="auto" SharedSizeGroup="threshold" />
            </Grid.ColumnDefinitions>
            <Border Style="{StaticResource CellBorder}">
                <TextBlock
                    Grid.Column="1"
                    Margin="0,0,5,0"
                    Foreground="{Binding OutLimits, Converter={StaticResource OutLimitsColorConverter}}"
                    Style="{StaticResource ValueTextBlockStyle}"
                    Text="{Binding Value1}" />
            </Border>
            <StackPanel Grid.Column="0" Margin="0,0,5,0">
                <TextBlock
                    FontSize="10"
                    Foreground="Gray"
                    Text="{Binding MaxValue, StringFormat={}{0:f2}}" />
                <TextBlock
                    Margin="0,3,0,0"
                    FontSize="10"
                    Text="{Binding MinValue, StringFormat={}{0:f2}}" />
                <!--<TextBlock Text="{Binding OutLimits}" FontSize="10"  Margin="0,3,0,0"/>-->
            </StackPanel>
            <StackPanel Grid.Column="2" Margin="5,0,0,0">
                <TextBlock FontSize="10" Text="{Binding MaxThreshold}" />
                <TextBlock FontSize="10" Text="{Binding MinThreshold}" />
            </StackPanel>

        </Grid>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:StatusDataSignal}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="40"
                        SharedSizeGroup="Value" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding DisplayName}" />
                <Border
                    Grid.Column="1"
                    BorderThickness="2,0"
                    Style="{StaticResource CellBorder}">
                    <Grid Grid.Column="1" HorizontalAlignment="Center">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" SharedSizeGroup="Value1" />
                            <ColumnDefinition
                                Width="auto"
                                MinWidth="40"
                                SharedSizeGroup="Value2" />
                            <ColumnDefinition
                                Width="auto"
                                MinWidth="40"
                                SharedSizeGroup="Value3" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Margin="0,0,5,0"
                            Foreground="{Binding OutLimits, Converter={StaticResource OutLimitsColorConverter}}"
                            Style="{StaticResource ValueTextBlockStyle}"
                            Text="{Binding Status}" />
                        <TextBlock
                            Grid.Column="1"
                            VerticalAlignment="Center"
                            Foreground="Gray"
                            Text="{Binding HexValue, StringFormat=0x{0}}" />
                        <TextBlock
                            Grid.Column="2"
                            Margin="5,0"
                            VerticalAlignment="Center"
                            Foreground="Gray"
                            Text="{Binding BinaryValue, StringFormat=0b{0}}" />
                    </Grid>
                </Border>
            </Grid>
            <Border.ToolTip>
                <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Border.ToolTip>
        </Border>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:SignalBaseGroup}">
        <GroupBox
            MinWidth="400"
            Margin="2"
            Header="{Binding GroupName}">
            <ItemsControl Margin="-7" ItemsSource="{Binding Signals}" />
        </GroupBox>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:PulseInSignalGroup}">
        <Border Style="{StaticResource CardBorder}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition Width="auto" SharedSizeGroup="Value1" />
                    <ColumnDefinition Width="auto" SharedSizeGroup="Value2" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Border Style="{StaticResource CellBorder}">
                    <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding GroupName}" />
                </Border>
                <ContentControl
                    Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Content="{Binding Signal_DC}"
                    ContentTemplate="{StaticResource CommonSignal}"
                    ToolTip="Duty Cycle" />
                <ContentControl
                    Grid.Column="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Content="{Binding Signal_Freq}"
                    ContentTemplate="{StaticResource CommonSignal}"
                    ToolTip="Freq" />
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:PulseOutGroupSignalGroup}">
        <Border>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value1" />
                    <ColumnDefinition
                        Width="auto"
                        MinWidth="100"
                        SharedSizeGroup="value2" />
                    <ColumnDefinition Width="auto" SharedSizeGroup="note" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Border Style="{StaticResource CellBorder}">
                    <TextBlock Style="{StaticResource SignalNameFontStyle}" Text="{Binding GroupName}" />
                </Border>
                <TextBox
                    x:Name="freq"
                    Grid.Column="1"
                    Margin="2,0"
                    IsEnabled="{Binding CurrentViewEnable}"
                    Text="{Binding Freq.TempValue}">
                    <TextBox.ToolTip>
                        <ContentControl Content="{Binding Freq}" ContentTemplate="{StaticResource SignalToolTip}" />
                    </TextBox.ToolTip>
                </TextBox>
                <TextBox
                    Name="duty"
                    Grid.Column="2"
                    IsEnabled="{Binding CurrentViewEnable}"
                    Text="{Binding DutyCycle.TempValue}">
                    <TextBox.ToolTip>
                        <ContentControl Content="{Binding DutyCycle}" ContentTemplate="{StaticResource SignalToolTip}" />
                    </TextBox.ToolTip>
                </TextBox>
                <TextBlock
                    Grid.Column="3"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Text="{Binding Note}" />
            </Grid>
            <Border.Style>
                <Style BasedOn="{StaticResource CardBorder}" TargetType="Border">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding CurrentViewEnable}" Value="False">
                            <Setter Property="Background" Value="LightGray" />
                            <!--<Setter TargetName="freq" Property="IsEnabled" Value="False"/>-->
                        </DataTrigger>
                        <DataTrigger Binding="{Binding CurrentViewEnable}" Value="True">
                            <Setter Property="Background" Value="Transparent" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
        </Border>
    </DataTemplate>

    <DataTemplate DataType="{x:Type models:DiscreteInputSignalGroup}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <Grid>
                <Button
                    Width="80"
                    Height="25"
                    Margin="100,-35,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{StaticResource ClearSignalDataCommand}"
                    CommandParameter="{Binding Signals}"
                    Content="Clear Data" />
                <ContentControl
                    Margin="-7"
                    Content="{Binding Signals}"
                    ContentTemplate="{StaticResource DisInSignals}" />
            </Grid>
        </GroupBox>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:DiscreteOutputSignalGroup}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <ContentControl
                Margin="-7"
                Content="{Binding Signals}"
                ContentTemplate="{StaticResource DisOutSignals}" />
        </GroupBox>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:PulseInGroupGroup}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <Grid>
                <Button
                    Width="80"
                    Height="25"
                    Margin="80,-35,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{StaticResource ClearSignalDataCommand}"
                    CommandParameter="{Binding}"
                    Content="Clear Data" />
                <ContentControl
                    Margin="-7"
                    Content="{Binding Groups}"
                    ContentTemplate="{StaticResource PulseInGroupList}" />
            </Grid>
        </GroupBox>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:TextBoxSignalView}">
        <ctrls:ControlWithTitle Title="{Binding Title}" Orientation="Vertical">
            <ctrls:ControlWithTitle.Content>
                <TextBox Text="{Binding Signal.OriginValue}" />
            </ctrls:ControlWithTitle.Content>
            <ctrls:ControlWithTitle.ToolTip>
                <ContentControl Content="{Binding Signal}" ContentTemplate="{StaticResource SignalToolTip}" />
            </ctrls:ControlWithTitle.ToolTip>
        </ctrls:ControlWithTitle>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:CommandSignalView}">
        <Button Command="{Binding ChangeSignalCommand}" Content="{Binding Title}">
            <Button.ToolTip>
                <ContentControl Content="{Binding Signal}" ContentTemplate="{StaticResource SignalToolTip}" />
            </Button.ToolTip>
        </Button>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:PulseOutGroupList}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>
                <ContentControl Content="{Binding Groups}" ContentTemplate="{StaticResource PulseOutGroupList}" />
                <StackPanel Grid.Column="1">
                    <ItemsControl ItemsSource="{Binding SingleSignals}" />
                    <Button
                        Command="{Binding UpdateCommand}"
                        Content="Update"
                        Visibility="{Binding HasCommand, Converter={StaticResource BooleanToVisibilityConverter}}" />
                </StackPanel>
            </Grid>
        </GroupBox>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:GDICRegistersGroup}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <Grid>
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserAddRows="False"
                    CanUserDeleteRows="False"
                    IsReadOnly="True"
                    ItemsSource="{Binding Signals}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding DisplayName}" Header="Name" />
                        <!--<DataGridTextColumn Header="Address" Binding="{Binding Address}"/>
                        <DataGridTextColumn Header="Value" Binding="{Binding Value1}"/>-->
                        <DataGridTemplateColumn Header="Address">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Border>
                                        <TextBlock Text="{Binding Address}" />
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="Transparent" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Fixed}" Value="True">
                                                        <Setter Property="Background" Value="Gray" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                    </Border>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Address">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Border>
                                        <TextBlock Text="{Binding Value1}" />
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="Transparent" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Fixed}" Value="True">
                                                        <Setter Property="Background" Value="Gray" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                    </Border>

                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    <!--<DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Fixed}" Value="True">
                                    <Setter Property="Background" Value="Gray"></Setter>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>-->
                </DataGrid>
            </Grid>
        </GroupBox>
    </DataTemplate>


    <DataTemplate DataType="{x:Type models:GDICStatuGroupGroup}">
        <GroupBox Margin="2" Header="{Binding GroupName}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <ItemsControl
                    Grid.Row="1"
                    Grid.ColumnSpan="3"
                    ItemsSource="{Binding Groups}">
                    <ItemsControl.Resources>
                        <DataTemplate DataType="{x:Type models:GDICStatusDataSignal}">
                            <Border
                                Margin="0,1"
                                Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                                Style="{StaticResource CellBorder}">
                                <StackPanel Margin="0">
                                    <TextBlock Padding="2" Text="{Binding DisplayName}" />
                                    <Rectangle
                                        Height="2"
                                        Margin="0,2"
                                        Fill="{DynamicResource {x:Static adonisUi:Brushes.Layer1BorderBrush}}" />
                                    <TextBlock
                                        Margin="0,2,0,0"
                                        Padding="2"
                                        Text="{Binding OriginValue}" />
                                </StackPanel>
                                <Border.ToolTip>
                                    <ContentControl Content="{Binding}" ContentTemplate="{StaticResource SignalToolTip}" />
                                </Border.ToolTip>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.Resources>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="{x:Type models:GDICStatusGroup}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto" SharedSizeGroup="SignalName" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    Grid.Row="0"
                                    Margin="0,0,5,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Text="{Binding}" />

                                <!--  Data0~Data9  -->
                                <ItemsControl
                                    Grid.Column="1"
                                    ItemsSource="{Binding GDICStatusSignals}"
                                    VirtualizingStackPanel.IsVirtualizing="True"
                                    VirtualizingStackPanel.VirtualizationMode="Recycling">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Rows="1" />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                </ItemsControl>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </GroupBox>
    </DataTemplate>
    <DataTemplate DataType="{x:Type models:AnalogSignalGroup}">
        <GroupBox Header="{Binding GroupName}">
            <Grid Margin="-8">
                <Button
                    Width="80"
                    Height="25"
                    Margin="80,-28,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{StaticResource ClearSignalDataCommand}"
                    CommandParameter="{Binding Signals}"
                    Content="Clear" />
                <DataGrid
                    AutoGenerateColumns="False"
                    CanUserAddRows="False"
                    CanUserDeleteRows="False"
                    IsReadOnly="True"
                    ItemsSource="{Binding Signals}">
                    <DataGrid.Columns>
                        <DataGridTextColumn Binding="{Binding DisplayName}" Header="Name" />
                        <DataGridTextColumn Binding="{Binding OriginValue}" Header="ADC Counter" />
                        <DataGridTextColumn Binding="{Binding Value1}" Header="AI RAW" />
                        <DataGridTextColumn Binding="{Binding Value2}" Header="AI Scaled" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>
    </DataTemplate>

    <Style TargetType="{x:Type ctrls:ReadOnlyRadioButton}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ctrls:ReadOnlyRadioButton}">
                    <StackPanel Orientation="Horizontal">
                        <BulletDecorator Background="Transparent">
                            <BulletDecorator.Bullet>
                                <Grid Width="14" Height="14">

                                    <Ellipse
                                        x:Name="Border"
                                        Fill="Transparent"
                                        Stroke="Gray"
                                        StrokeThickness="1" />

                                    <Ellipse x:Name="CheckMark" Margin="4">
                                        <!--<Ellipse.Style>
                                            <Style TargetType="Ellipse">
                                                <Setter Property="Fill" Value="Transparent"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsChecked}" Value="True">
                                                        <Setter Property="Fill" Value="Black"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding IsChecked}" Value="False">
                                                        <Setter Property="Fill" Value="Transparent"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Ellipse.Style>-->
                                    </Ellipse>

                                </Grid>
                            </BulletDecorator.Bullet>
                        </BulletDecorator>

                        <TextBlock Margin="5,0" Text="{TemplateBinding Title}" />
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="CheckMark" Property="Fill" Value="Black" />
                        </Trigger>
                        <Trigger Property="IsChecked" Value="False">
                            <Setter TargetName="CheckMark" Property="Fill" Value="Transparent" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>

            </Setter.Value>
        </Setter>
        <!--<Style.Triggers>
            <DataTrigger Binding="{Binding IsChecked}"
        </Style.Triggers>-->
    </Style>
</ResourceDictionary>